(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{116:function(e,t,c){},122:function(e,t,c){},123:function(e,t,c){"use strict";c.r(t);var s=c(0),n=c.n(s),a=c(26),r=c.n(a),i=c(8),l=c(6),o=c(72),j=c.n(o),d=c(1),u=j.a.create({baseURL:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SERVER_URL+"/auth",withCredentials:!0}),b=Object(s.createContext)();function h(e){var t=e.children,n=function(){var e=Object(s.useState)(),t=Object(l.a)(e,2),n=t[0],a=t[1],r=Object(s.useState)(),o=Object(l.a)(r,2),j=o[0],d=o[1],b=Object(i.g)(),h=Object(i.f)(),O=c(111);function x(){u.get("/login").then((function(e){e.data.isAuth?(console.log("User is logged in :",e.data.user),a(e.data.user)):(console.log("User is not logged in!"),a())})).catch((function(e){console.log(e)}))}function m(e,t){var c=(b.state||{from:{pathname:"/"}}).from;d(),u.post("/login",{username:e,password:t}).then((function(e){a(e.data.user),h.push(c)})).catch((function(e){console.log("catch"),d(e.response.status)}))}function p(){u.post("/logout").then((function(e){console.log("Logged Out"),a()})).catch((function(e){console.log(e)}))}function f(e,t){u.post("/register",O.stringify({username:e,password:t})).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))}return{user:n,resp:j,setResp:d,login:m,logout:p,register:f,checkauth:x}}();return Object(d.jsx)(b.Provider,{value:n,children:t})}function O(){return Object(s.useContext)(b)}var x=c(129),m=c(130),p=c(75),f=c(134),g=c(76),v=c(131);function y(){var e=Object(s.useRef)(),t=Object(s.useRef)(),c=O(),n=Object(s.useState)(!1),a=Object(l.a)(n,2),r=a[0],i=a[1],o=Object(s.useState)(!1),j=Object(l.a)(o,2),u=j[0],b=j[1];Object(s.useEffect)((function(){401===c.resp&&(i(!1),b(!0))}),[c.resp]);return Object(d.jsx)(x.a,{children:Object(d.jsx)(m.a,{className:"justify-content-center my-4",children:Object(d.jsxs)(p.a,{lg:"5",md:"9",children:[Object(d.jsx)("h1",{className:"mx-5 my-4",children:"Login"}),Object(d.jsxs)(f.a,{className:"mx-5 my-4",noValidate:!0,validated:r,onSubmit:function(s){var n=s.currentTarget;!1===n.checkValidity()&&(s.preventDefault(),s.stopPropagation()),!0===n.checkValidity()&&(s.preventDefault(),c.login(e.current.value,t.current.value)),i(!0)},children:[Object(d.jsx)(N,{show:u,setShow:b}),Object(d.jsxs)(f.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(d.jsx)(f.a.Label,{children:"Username"}),Object(d.jsx)(f.a.Control,{ref:e,type:"text",required:!0}),Object(d.jsx)(f.a.Control.Feedback,{type:"invalid",children:"Please enter username."})]}),Object(d.jsxs)(f.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(d.jsx)(f.a.Label,{children:"Password"}),Object(d.jsx)(f.a.Control,{ref:t,type:"password",required:!0}),Object(d.jsx)(f.a.Control.Feedback,{type:"invalid",children:"Please enter password."})]}),Object(d.jsx)(g.a,{variant:"primary",type:"submit",children:"Login"})]})]})})})}function N(e){var t=e.show,c=e.setShow,s=O();return t?Object(d.jsx)(v.a,{variant:"danger",onClose:function(){c(!1),s.setResp()},dismissible:!0,children:"Incorrect username or password!"}):Object(d.jsx)(d.Fragment,{})}function w(){var e=Object(s.useRef)(),t=Object(s.useRef)(),c=(Object(s.useRef)(),O());return Object(d.jsx)(x.a,{children:Object(d.jsx)(m.a,{className:"justify-content-center my-4",children:Object(d.jsxs)(p.a,{lg:"5",md:"9",children:[Object(d.jsx)("h1",{className:"mx-5 my-4",children:"Signup"}),Object(d.jsxs)(f.a,{className:"mx-5 my-4",onSubmit:function(s){s.preventDefault(),c.register(e.current.value,t.current.value)},children:[Object(d.jsx)(f.a.Group,{className:"mb-3",children:Object(d.jsxs)(m.a,{children:[Object(d.jsx)(p.a,{children:Object(d.jsx)(f.a.Control,{type:"text",placeholder:"First name"})}),Object(d.jsx)(p.a,{children:Object(d.jsx)(f.a.Control,{type:"text",placeholder:"Last name"})})]})}),Object(d.jsx)(f.a.Group,{className:"mb-3",children:Object(d.jsx)(f.a.Control,{type:"email",placeholder:"Institute Email"})}),Object(d.jsx)(f.a.Group,{className:"mb-3",children:Object(d.jsx)(f.a.Control,{ref:e,type:"text",placeholder:"Username",required:!0})}),Object(d.jsx)(f.a.Group,{className:"mb-3",children:Object(d.jsx)(f.a.Control,{ref:t,type:"password",placeholder:"Password",required:!0})}),Object(d.jsx)(f.a.Group,{className:"mb-3",children:Object(d.jsx)(f.a.Control,{ref:t,type:"password",placeholder:"Confirm Password",required:!0})}),Object(d.jsx)(g.a,{variant:"primary",type:"submit",children:"Sign Up"})]})]})})})}var S=c(133),C=c(135),k=c(132);function R(){var e=O(),t=Object(i.f)();return e.user?Object(d.jsx)(C.a,{children:Object(d.jsx)(k.a,{align:"end",title:e.user,children:Object(d.jsx)(k.a.Item,{onClick:e.logout,children:"Logout"})})}):Object(d.jsxs)(C.a,{children:[Object(d.jsx)(C.a.Item,{className:"mx-2",onClick:function(){t.push("/login")},children:Object(d.jsx)(C.a.Link,{className:"link-white",children:"Log In"})}),Object(d.jsx)(g.a,{className:"mx-1",variant:"outline-light",onClick:function(){t.push("/signup")},children:"Sign Up"})]})}function E(){return Object(d.jsx)(S.a,{bg:"dark",variant:"dark",sticky:"top",children:Object(d.jsxs)(x.a,{fluid:!0,children:[Object(d.jsx)(S.a.Brand,{className:"mx-3",href:"/",children:"Student Dash"}),Object(d.jsx)(R,{className:"justify-content-end"})]})})}c(116);function L(){return Object(d.jsxs)(x.a,{fluid:!0,className:"p-0 overflow-hidden text-center",children:[Object(d.jsx)("img",{className:"poster-img",src:"https://images.unsplash.com/photo-1519389950473-47ba0277781c?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=2070&q=80",alt:"bg image"}),Object(d.jsx)("div",{className:"poster-text position-absolute top-50 start-50 translate-middle d-block",children:Object(d.jsx)(x.a,{fluid:!0,className:"h-100",children:Object(d.jsx)(m.a,{className:"align-items-center h-100 justify-content-center",children:Object(d.jsx)(p.a,{lg:"3",md:"5",sm:"7",xs:"9",className:"align-self-center bg-overlay rounded p-0",children:Object(d.jsxs)("div",{className:"my-4 text-white",children:[Object(d.jsx)("h1",{children:"Hey There!"}),Object(d.jsx)("p",{children:"Welcome to Student Dash"})]})})})})})]})}var P=c(79),_=c.n(P);function D(){return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)(x.a,{className:"d-flex flex-column overflow-hidden min-vh-100 vh-100 p-0",fluid:!0,children:[Object(d.jsx)(E,{}),Object(d.jsxs)(i.c,{children:[Object(d.jsx)(i.a,{path:"/login",children:Object(d.jsx)(y,{})}),Object(d.jsx)(i.a,{path:"/signup",children:Object(d.jsx)(w,{})}),Object(d.jsx)(i.a,{path:"/courseplanner",children:Object(d.jsx)(_.a,{})}),Object(d.jsx)(i.a,{path:"/",children:Object(d.jsx)(L,{})})]})]})})}var T=c(51);c(121),c(122);r.a.render(Object(d.jsx)(n.a.StrictMode,{children:Object(d.jsx)(T.a,{children:Object(d.jsx)(h,{children:Object(d.jsx)(D,{})})})}),document.getElementById("root"))}},[[123,1,2]]]);
//# sourceMappingURL=main.97b7cd71.chunk.js.map