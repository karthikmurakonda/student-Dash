(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{296:function(e,t,a){},304:function(e,t,a){},306:function(e,t,a){},307:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),c=a(43),r=a.n(c),i=a(7),l=a(6),o=a(117),d=a.n(o),j=a(149),u=a(33),b=a.n(u),h=a(0),m=b.a.create({baseURL:"http://localhost:5000/auth",withCredentials:!0}),O=Object(n.createContext)();function x(e){var t=e.children,a=function(){var e=Object(n.useState)(),t=Object(l.a)(e,2),a=t[0],s=t[1],c=Object(n.useState)(!1),r=Object(l.a)(c,2),o=r[0],u=r[1],b=Object(i.h)(),h=Object(i.g)();function O(){m.get("/login").then((function(e){e.data.isAuth?s(e.data.user):s(),u(!0)})).catch((function(e){console.log(e)}))}function x(e,t,a){var n=(b.state||{from:{pathname:"/"}}).from;m.post("/login",{username:e,password:t}).then((function(e){s(e.data.user),h.push(n)})).catch((function(e){a(!0)}))}function f(){m.post("/logout").then((function(e){h.push("/"),s()})).catch((function(e){console.log(e)}))}function p(e,t,a,n,s){m.post("/register",{fname:e,lname:t,email:a,username:n,password:s}).then((function(e){h.push("/login")})).catch((function(e){}))}function v(e){return new Promise(function(){var t=Object(j.a)(d.a.mark((function t(a,n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m.post("/usernameexists",{username:e});case 3:t.sent.data.usernameExists?a(!1):a(!0),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0.response);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,a){return t.apply(this,arguments)}}())}return{user:a,userSet:o,login:x,logout:f,register:p,checkauth:O,usernameExists:v}}();return Object(h.jsx)(O.Provider,{value:a,children:t})}function f(){return Object(n.useContext)(O)}var p=a(313),v=a(314),g=a(156),y=a(319),C=a(315),N=a(157),S=a(159),w=a(14),k=a(42);function I(){var e=f(),t=Object(n.useState)(!1),a=Object(l.a)(t,2),s=a[0],c=a[1],r=w.b().shape({username:w.d().required("Please enter username!"),password:w.d().required("Please enter password!")});return Object(h.jsx)(p.a,{children:Object(h.jsx)(v.a,{className:"justify-content-center my-4",children:Object(h.jsxs)(g.a,{lg:"5",md:"9",children:[Object(h.jsx)("h1",{className:"mx-5 my-4",children:"Login"}),Object(h.jsx)(k.a,{validationSchema:r,onSubmit:function(t){e.login(t.username,t.password,c)},initialValues:{username:"",password:""},children:function(e){var t=e.handleSubmit,a=e.handleChange,n=e.handleBlur,r=e.values,i=e.touched,l=e.isValid,o=e.errors,d=e.dirty;return Object(h.jsxs)(y.a,{className:"mx-5 my-4",noValidate:!0,onSubmit:t,children:[Object(h.jsx)(C.a,{variant:"danger",show:s,onClose:function(){return c(!1)},dismissible:!0,children:"Incorrect username or password!"}),Object(h.jsx)(y.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:Object(h.jsxs)(N.a,{label:"Username",children:[Object(h.jsx)(y.a.Control,{type:"text",name:"username",value:r.username,onChange:a,onBlur:n,isInvalid:i.username&&o.username}),Object(h.jsxs)(y.a.Control.Feedback,{type:"invalid",children:[" ",o.username," "]})]})}),Object(h.jsx)(y.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:Object(h.jsxs)(N.a,{label:"Password",children:[Object(h.jsx)(y.a.Control,{type:"password",name:"password",value:r.password,onChange:a,onBlur:n,isInvalid:i.password&&o.password}),Object(h.jsxs)(y.a.Control.Feedback,{type:"invalid",children:[" ",o.password," "]})]})}),Object(h.jsx)(S.a,{variant:"primary",type:"submit",disabled:!(l&&d),children:"Login"})]})}})]})})})}function F(){var e=f(),t=w.b().shape({fname:w.d().required("Required!"),lname:w.d().required("Required!"),email:w.d().email("Not a valid email!").required("Required!"),username:w.d().required("Required!").test("username exists","Sorry this username is taken!",(function(t){return a=t,e.usernameExists(a);var a})),password:w.d().min(6,"Password must have atleast 6 characters!").required("Required!"),confirm:w.d().oneOf([w.c("password"),null],"Passwords do not match!").required("Required!")});return Object(h.jsx)(p.a,{children:Object(h.jsx)(v.a,{className:"justify-content-center my-4",children:Object(h.jsxs)(g.a,{lg:"5",md:"9",children:[Object(h.jsx)("h1",{className:"mx-5 my-4",children:"Signup"}),Object(h.jsx)(k.a,{validationSchema:t,onSubmit:function(t){e.register(t.fname,t.lname,t.email,t.username,t.password)},initialValues:{fname:"",lname:"",email:"",username:"",password:"",confirm:""},children:function(e){var t=e.handleSubmit,a=e.handleChange,n=e.handleBlur,s=e.values,c=e.touched,r=e.isValid,i=e.errors,l=e.dirty;return Object(h.jsxs)(y.a,{className:"mx-5 my-4",noValidate:!0,onSubmit:t,children:[Object(h.jsx)(y.a.Group,{className:"mb-3",children:Object(h.jsxs)(v.a,{children:[Object(h.jsx)(g.a,{children:Object(h.jsxs)(N.a,{label:"First Name",children:[Object(h.jsx)(y.a.Control,{type:"text",name:"fname",value:s.fname,onChange:a,onBlur:n,isInvalid:c.fname&&i.fname}),Object(h.jsx)(y.a.Control.Feedback,{type:"invalid",children:i.fname})]})}),Object(h.jsx)(g.a,{children:Object(h.jsxs)(N.a,{label:"Last Name",children:[Object(h.jsx)(y.a.Control,{type:"text",name:"lname",value:s.lname,onChange:a,onBlur:n,isInvalid:c.lname&&!!i.lname}),Object(h.jsx)(y.a.Control.Feedback,{type:"invalid",children:i.lname})]})})]})}),Object(h.jsx)(y.a.Group,{className:"mb-3",children:Object(h.jsxs)(N.a,{label:"Email",children:[Object(h.jsx)(y.a.Control,{type:"email",name:"email",value:s.email,onChange:a,onBlur:n,isValid:c.email&&!i.email,isInvalid:c.email&&i.email}),Object(h.jsx)(y.a.Control.Feedback,{type:"invalid",children:i.email})]})}),Object(h.jsx)(y.a.Group,{className:"mb-3",children:Object(h.jsxs)(N.a,{label:"Username",children:[Object(h.jsx)(y.a.Control,{type:"text",name:"username",value:s.username,onChange:a,onBlur:n,isValid:c.username&&!i.username,isInvalid:c.username&&i.username}),Object(h.jsx)(y.a.Control.Feedback,{type:"invalid",children:i.username})]})}),Object(h.jsx)(y.a.Group,{className:"mb-3",children:Object(h.jsxs)(N.a,{label:"Password",children:[Object(h.jsx)(y.a.Control,{type:"password",name:"password",value:s.password,onChange:a,onBlur:n,isValid:c.password&&!i.password,isInvalid:c.password&&i.password}),Object(h.jsx)(y.a.Control.Feedback,{type:"invalid",children:i.password})]})}),Object(h.jsx)(y.a.Group,{className:"mb-3",children:Object(h.jsxs)(N.a,{label:"Confirm Password",children:[Object(h.jsx)(y.a.Control,{type:"password",name:"confirm",value:s.confirm,onChange:a,onBlur:n,isValid:c.confirm&&!i.confirm,isInvalid:c.confirm&&i.confirm}),Object(h.jsx)(y.a.Control.Feedback,{type:"invalid",children:i.confirm})]})}),Object(h.jsx)(S.a,{variant:"primary",type:"submit",disabled:!(r&&l),children:"Sign Up"})]})}})]})})})}var B=a(320),_=a(323),q=a(318);function M(){var e=f(),t=Object(i.g)();return!e.user||1!==e.user.role&&2!==e.user.role?Object(h.jsx)(h.Fragment,{}):Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(q.a,{title:"Manage Courses",onSelect:function(e){t.push(e)},children:Object(h.jsx)(q.a.Item,{eventKey:"/admin/addcourse",children:"Add Courses"})})})}function R(){var e=f(),t=Object(i.g)();return Object(n.useEffect)((function(){e.checkauth()}),[]),e.user?Object(h.jsx)(_.a,{children:Object(h.jsx)(q.a,{align:"end",title:e.user.username,children:Object(h.jsx)(q.a.Item,{onClick:e.logout,children:"Logout"})})}):Object(h.jsxs)(_.a,{children:[Object(h.jsx)(_.a.Item,{className:"mx-2",onClick:function(){t.push("/login")},children:Object(h.jsx)(_.a.Link,{className:"link-white",children:"Log In"})}),Object(h.jsx)(S.a,{className:"mx-1",variant:"outline-light",onClick:function(){t.push("/signup")},children:"Sign Up"})]})}function E(){return f().user?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(_.a.Link,{href:"/courseplanner",children:"Course Planner"}),Object(h.jsx)(_.a.Link,{href:"/posts",children:"Posts"})]}):Object(h.jsx)(h.Fragment,{})}function V(){var e=Object(i.h)();return Object(h.jsx)(B.a,{bg:"dark",variant:"dark",fixed:"top",children:Object(h.jsxs)(p.a,{fluid:!0,children:[Object(h.jsx)(B.a.Brand,{className:"mx-3",href:"/",children:"Student Dash"}),Object(h.jsxs)(_.a,{activeKey:e.pathname,className:"me-auto",children:[Object(h.jsx)(E,{}),Object(h.jsx)(M,{})]}),Object(h.jsx)(R,{className:"justify-content-end"})]})})}a(296);function D(){return Object(h.jsxs)(p.a,{fluid:!0,className:"p-0 overflow-hidden text-center h-100",children:[Object(h.jsx)("img",{className:"poster-img",src:"https://images.unsplash.com/photo-1519389950473-47ba0277781c?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=2070&q=80",alt:"bg"}),Object(h.jsx)("div",{className:"poster-text position-absolute top-50 start-50 translate-middle d-block",children:Object(h.jsx)(p.a,{fluid:!0,className:"h-100",children:Object(h.jsx)(v.a,{className:"align-items-center h-100 justify-content-center",children:Object(h.jsx)(g.a,{lg:"3",md:"5",sm:"7",xs:"9",className:"align-self-center bg-overlay rounded p-0",children:Object(h.jsxs)("div",{className:"my-4 text-white",children:[Object(h.jsx)("h1",{children:"Hey There!"}),Object(h.jsx)("p",{children:"Welcome to Student Dash"})]})})})})})]})}var T=a(161),A=a.n(T),P=(a(301),a(9)),G=b.a.create({baseURL:"http://localhost:5000/courseplanner",withCredentials:!0}),H=Object(n.createContext)();function L(e){var t=e.children,a=function(){var e=Object(n.useState)(),t=Object(l.a)(e,2),a=t[0],s=t[1],c=Object(n.useState)([]),r=Object(l.a)(c,2),i=r[0],o=r[1],d=Object(n.useState)([]),j=Object(l.a)(d,2),u=j[0],b=j[1],h=Object(n.useState)([]),m=Object(l.a)(h,2),O=m[0],x=m[1],f=Object(n.useState)([]),p=Object(l.a)(f,2),v=p[0],g=p[1],y=Object(n.useState)(0),C=Object(l.a)(y,2),N=C[0],S=C[1],w=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function k(){for(var e=[],t=function(t){for(var a=i.filter((function(e){return e.rawDay===t})),n=0;n<a.length;n++)for(var s=a[n],c=0;c<a.length;c++){var r=a[c];n!==c&&s.rawStart<=r.rawStart&&r.rawStart<s.rawEnd&&(W(e,s.title,r.title,w[t])||e.push([s.title,r.title,w[t]]))}},a=0;a<7;a++)t(a);x(e)}function I(e){var t=v;t=t.filter((function(t){return t.id!==e})),g(Object(P.a)(t))}return{courses:a,setCourses:s,schedules:i,setSchedules:o,calendars:u,setCalendars:b,clashes:O,getClashes:k,selectedCourses:v,setSelectedCourses:g,deselectCourse:I,totalCredits:N,setTotalCredits:S}}();return Object(h.jsx)(H.Provider,{value:a,children:t})}function U(){return Object(n.useContext)(H)}function W(e,t,a){for(var n=0;n<e.length;n++)if(e[n][0]===t&&e[n][1]===a||e[n][0]===a&&e[n][1]===t)return!0;return!1}var Y={weekDayname:function(e){return'<span class="fs-4">'+e.dayName+"</span>"}};var J=function(e){var t=Object(n.useRef)(),a=U();return Object(n.useEffect)((function(){t.current.getInstance().next()}),[]),Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(A.a,{ref:t,schedules:a.schedules,calendars:a.calendar,height:"718px",taskView:!1,isReadOnly:!0,scheduleView:["time"],template:Y,week:{hourStart:7,hourEnd:20}})})},z=a(99),K=a(162),Q=a(302);var X=function(e){var t=e.course,a=e.id,s=e.disabled,c=Object(n.useRef)(),r=U(),i=Object(n.useState)(!1),o=Object(l.a)(i,2),d=o[0],j=o[1],u=Object(n.useState)({}),b=Object(l.a)(u,2),m=b[0],O=b[1];function x(e,t){var a=new Date,n=e-a.getDay();return n>=0||n<0?new Date(a.getFullYear(),a.getMonth(),a.getDate()+n+7,(t-t%100)/100,t%100):void 0}return Object(n.useEffect)((function(){G.get("/"+a).then((function(e){O(e.data)})).catch((function(e){console.log(e)}))}),[]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("label",{className:"list-group-item",children:[Object(h.jsx)("input",{ref:c,onChange:function(){c.current.checked?function(){var e=Q({luminosity:"dark",seed:a}),n={id:String(a),name:t,bgColor:e,borderColor:e},s=r.calendars;s.push(n),r.setCalendars(Object(P.a)(s)),m.course_timetable.map((function(n){var s={id:String(r.schedules.length+1),calendarId:String(a),title:t,category:"time",dueDateClass:"",start:x(n.day,n.start_time).toISOString(),end:x(n.day,n.end_time).toISOString(),bgColor:e,borderColor:e,color:"#ffffff",rawStart:parseInt(n.start_time),rawEnd:parseInt(n.end_time),rawDay:parseInt(n.day),rawId:a},c=r.schedules;c.push(s),r.setSchedules(Object(P.a)(c)),r.setTotalCredits(r.totalCredits+m.course_credit)}))}():function(){var e=r.calendars;e=e.filter((function(e){return e.id!==a})),r.setCalendars(e);var t=r.schedules;t=t.filter((function(e){return e.calendarId!==a})),r.setSchedules(t),r.setTotalCredits(r.totalCredits-m.course_credit)}()},className:"form-check-input me-2",type:"checkbox",value:"",disabled:s}),t,Object(h.jsx)("a",{href:"#",onClick:function(){return j(!d)},className:"link-primary mx-1",children:Object(h.jsx)("i",{className:"bi bi-info-circle"})}),Object(h.jsx)(z.a,{className:"float-end",onClick:function(){!function(){var e=r.calendars,t=e.filter((function(e){return e.id===a}));e=e.filter((function(e){return e.id!==a})),r.setCalendars(e);var n=r.schedules;n=n.filter((function(e){return e.calendarId!==a})),r.setSchedules(n),t.length>0&&r.setTotalCredits(r.totalCredits-m.course_credit)}(),r.deselectCourse(a)}})]}),Object(h.jsx)(K.a,{in:d,children:Object(h.jsx)("div",{className:"list-group-item text-center",children:Object(h.jsx)("table",{className:"table table-striped my-1",children:Object(h.jsxs)("tbody",{children:[Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:"Credits:"}),Object(h.jsx)("td",{children:m.course_credit})]}),Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:"Mode:"}),Object(h.jsx)("td",{children:m.course_venue})]}),Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:"Instructor:"}),Object(h.jsx)("td",{children:m.course_instructor})]})]})})})})]})};var Z=function(e){var t=e.handleAdd,a=U();return Object(h.jsxs)("div",{className:"list-group py-2",children:[a.selectedCourses.map((function(e){return Object(h.jsx)(X,{id:e.id,course:e.course_name,disabled:!1},e.id)})),Object(h.jsx)("div",{className:"list-group-item text-center",children:Object(h.jsxs)("button",{onClick:t,type:"button",className:"btn btn-primary",children:["Add ",Object(h.jsx)("i",{className:"bi bi-plus-lg"})]})})]})},$=a(322),ee=a(317),te=a(321),ae=(a(303),a(316));a(304);function ne(){return Object(h.jsx)(p.a,{className:"h-100 greyed",fluid:!0,children:Object(h.jsx)(v.a,{className:"h-100 align-items-center justify-content-center",children:Object(h.jsx)(g.a,{className:"text-center",children:Object(h.jsx)(ae.a,{animation:"border"})})})})}function se(e){var t=e.course,a=e.id,s=e.disabled,c=Object(n.useRef)(),r=U(),i=Object(n.useState)(!1),o=Object(l.a)(i,2),d=o[0],j=o[1],u=Object(n.useState)(!1),b=Object(l.a)(u,2),m=b[0],O=b[1];return Object(n.useEffect)((function(){var e=r.selectedCourses;e=e.filter((function(e){return e.id===a})),e.length?(j(!0),O(!0)):(j(!1),O(!1))}),[]),m?Object(h.jsx)(h.Fragment,{}):Object(h.jsxs)("label",{className:"list-group-item",children:[Object(h.jsx)("input",{ref:c,onChange:function(){c.current.checked?function(){var e=r.selectedCourses;e.push(t),r.setSelectedCourses(Object(P.a)(e)),j(!0)}():(r.deselectCourse(a),j(!1))},className:"form-check-input me-2",type:"checkbox",value:"",disabled:s,checked:d}),t.course_code,": ",t.course_name]})}var ce=function(){var e=U(),t=Object(n.useRef)();function a(){""===t.current.value?G.get("/",{params:{page:1}}).then((function(t){e.setCourses(t.data.results)})).catch((function(e){console.log(e)})):G.get("/",{params:{page:1,course_name:t.current.value}}).then((function(t){console.log(t.data),e.setCourses(t.data.results)})).catch((function(e){console.log(e)}))}return Object(n.useEffect)((function(){a()}),[]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(N.a,{label:"Search",children:[Object(h.jsx)(y.a.Control,{ref:t,type:"text",onChange:a}),Object(h.jsx)(y.a.Text,{className:"text-muted",children:" Search for a course by name or code. "})]}),Object(h.jsx)("div",{className:"list-group py-2",children:e.courses.map((function(e){return Object(h.jsx)(se,{id:e.id,course:e,disabled:!1},e.id)}))})]})};function re(){var e=U();return Object(h.jsx)(h.Fragment,{children:e.clashes.map((function(e){return Object(h.jsxs)(C.a,{className:"my-1",variant:"danger",children:[e[0]," & ",e[1]," clash on ",e[2],"!"]})}))})}function ie(){var e=U(),t=Object(n.useState)(!1),a=Object(l.a)(t,2),s=a[0],c=a[1],r=Object(n.useState)(!1),i=Object(l.a)(r,2),o=i[0],d=i[1];return Object(n.useEffect)((function(){G.get("/",{params:{page:1}}).then((function(t){e.setCourses(t.data.results)})).catch((function(e){console.log(e)}))}),[]),Object(n.useEffect)((function(){e.getClashes()}),[e.schedules]),e.courses?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(p.a,{className:"mt-3",fluid:!0,children:[Object(h.jsx)(v.a,{className:"px-2",children:Object(h.jsx)(re,{})}),Object(h.jsxs)(v.a,{children:[Object(h.jsx)(g.a,{lg:"8",children:Object(h.jsx)(J,{})}),Object(h.jsxs)(g.a,{lg:"4",className:"px-3",children:[e.totalCredits?Object(h.jsx)($.a,{className:"my-2",children:Object(h.jsxs)($.a.Body,{className:"p-2 text-center",children:["Current Credits: ",Object(h.jsx)(ee.a,{className:"mx-1",bg:"dark",children:e.totalCredits})]})}):Object(h.jsx)(h.Fragment,{}),Object(h.jsxs)("h3",{children:["Courses ",Object(h.jsx)("a",{href:"#",onClick:function(){return c(!s)},className:"link-primary h5",children:Object(h.jsx)("i",{className:"bi bi-info-circle"})})]}),Object(h.jsx)(K.a,{in:s,children:Object(h.jsx)($.a,{children:Object(h.jsx)($.a.Body,{children:"Add courses you wish to take to this list and see how your schedule work out!"})})}),Object(h.jsx)(Z,{handleAdd:function(){return d(!0)}})]})]})]}),Object(h.jsxs)(te.a,{show:o,centered:!0,onHide:function(){return d(!1)},children:[Object(h.jsx)(te.a.Header,{closeButton:!0,children:Object(h.jsx)(te.a.Title,{children:"Add a Course"})}),Object(h.jsx)(te.a.Body,{children:Object(h.jsx)(ce,{})})]})]}):Object(h.jsx)(ne,{})}var le=a(2),oe=a(3),de=["children"];function je(e){var t=e.children,a=Object(oe.a)(e,de),n=f();return n.userSet?n.user?Object(h.jsx)(i.b,Object(le.a)(Object(le.a)({},a),{},{render:function(){return t}})):Object(h.jsx)(i.b,Object(le.a)(Object(le.a)({},a),{},{render:function(e){var t=e.location;return Object(h.jsx)(i.a,{to:{pathname:"login",state:{from:t}}})}})):Object(h.jsx)(ne,{})}var ue=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function be(e){var t=e.myClass,a=e.classes,n=e.setClasses;return Object(h.jsx)("label",{className:"list-group-item",children:Object(h.jsx)(p.a,{fluid:!0,children:Object(h.jsxs)(v.a,{children:[Object(h.jsxs)(g.a,{children:["On ",ue[t.day]]}),Object(h.jsxs)(g.a,{children:["from ",(t.start_time-t.start_time%100)/100,":",t.start_time%100?t.start_time%100<10?"0"+t.start_time%100:t.start_time%100:"00"]}),Object(h.jsxs)(g.a,{children:["to ",(t.end_time-t.end_time%100)/100,":",t.end_time%100?t.end_time%100<10?"0"+t.end_time%100:t.end_time%100:"00"]}),Object(h.jsx)(z.a,{className:"float-end",onClick:function(){var e=a;e=e.filter((function(e){return e!==t})),n(Object(P.a)(e))}})]})})})}function he(e){var t=e.handleAdd,a=e.classes,n=e.setClasses;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h3",{children:"Classes"}),Object(h.jsxs)("div",{className:"list-group py-2",children:[a.map((function(e){return Object(h.jsx)(be,{myClass:e,classes:a,setClasses:n})})),Object(h.jsx)("div",{className:"list-group-item text-center",children:Object(h.jsx)("button",{type:"button",className:"btn btn-primary",onClick:t,children:"Add New Class"})})]})]})}function me(e){var t=e.classes,a=e.setClasses,n=e.setShowModal,s=w.b().shape({day:w.a().required("Required!"),start:w.a().required("Required!"),end:w.a().required("Required!")});return Object(h.jsx)(k.a,{validationSchema:s,onSubmit:function(e){var s={day:String(e.day),start_time:String(e.start),end_time:String(e.end)},c=t;c.push(s),a(Object(P.a)(c)),n(!1)},initialValues:{day:"",start:"",end:""},children:function(e){var t=e.handleSubmit,a=e.handleChange,n=e.handleBlur,s=e.values,c=e.touched,r=e.isValid,i=e.errors,l=e.dirty;return Object(h.jsxs)(y.a,{className:"mx-5 my-4",noValidate:!0,onSubmit:t,children:[Object(h.jsx)(y.a.Group,{className:"mb-3",controlId:"formDay",children:Object(h.jsx)(N.a,{label:"Day",children:Object(h.jsxs)(y.a.Select,{name:"day",value:s.day,onChange:a,onBlur:n,children:[Object(h.jsx)("option",{value:"1",children:"Monday"}),Object(h.jsx)("option",{value:"2",children:"Tuesday"}),Object(h.jsx)("option",{value:"3",children:"Wednesday"}),Object(h.jsx)("option",{value:"4",children:"Thursday"}),Object(h.jsx)("option",{value:"5",children:"Friday"}),Object(h.jsx)("option",{value:"6",children:"Saturday"}),Object(h.jsx)("option",{value:"0",children:"Sunday"})]})})}),Object(h.jsxs)(y.a.Group,{className:"mb-3",controlId:"formStart",children:[Object(h.jsxs)(N.a,{label:"Start Time",children:[Object(h.jsx)(y.a.Control,{type:"number",name:"start",value:s.start,onChange:a,onBlur:n,isInvalid:c.start&&i.start}),Object(h.jsxs)(y.a.Control.Feedback,{type:"invalid",children:[" ",i.start," "]})]}),Object(h.jsx)(y.a.Text,{className:"text-muted",children:" Enter time in 24 hour format HHMM "})]}),Object(h.jsxs)(y.a.Group,{className:"mb-3",controlId:"formEnd",children:[Object(h.jsxs)(N.a,{label:"Course End",children:[Object(h.jsx)(y.a.Control,{type:"number",name:"end",value:s.end,onChange:a,onBlur:n,isInvalid:c.end&&i.end}),Object(h.jsxs)(y.a.Control.Feedback,{type:"invalid",children:[" ",i.end," "]})]}),Object(h.jsx)(y.a.Text,{className:"text-muted",children:" Enter time in 24 hour format HHMM "})]}),Object(h.jsx)(S.a,{variant:"primary",type:"submit",disabled:!(r&&l),children:"Add"})]})}})}function Oe(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),a=t[0],s=t[1],c=Object(n.useState)([]),r=Object(l.a)(c,2),i=r[0],o=r[1],d=Object(n.useState)(!1),j=Object(l.a)(d,2),u=j[0],m=j[1],O=Object(n.useState)(!1),x=Object(l.a)(O,2),f=x[0],I=x[1],F=b.a.create({baseURL:"http://localhost:5000/courseplanner",withCredentials:!0}),B=w.b().shape({name:w.d().required("Required!"),code:w.d().required("Required!"),credits:w.a().positive("Must be a Positive Number!").required("Required!"),instructor:w.d().required("Required!")});return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(p.a,{children:Object(h.jsx)(v.a,{className:"justify-content-center my-4",children:Object(h.jsxs)(g.a,{lg:"10",children:[Object(h.jsx)(C.a,{variant:"danger mx-5",show:f,onClose:function(){return I(!1)},dismissible:!0,children:"Something went wrong!"}),Object(h.jsx)(C.a,{variant:"success mx-5",show:u,onClose:function(){return m(!1)},dismissible:!0,children:"Course added successfully!"}),Object(h.jsx)("h1",{className:"mx-5 my-4",children:"Add a New Course"}),Object(h.jsx)(k.a,{validationSchema:B,onSubmit:function(e,t){var a=t.resetForm,n={course_name:e.name,course_code:e.code,course_credit:e.credits,course_timetable:i,course_instructor:e.instructor};F.post("/",n).then((function(e){m(!0),a(),o([])})).catch((function(e){I(!0)}))},initialValues:{name:"",code:"",credits:"",instructor:""},children:function(e){var t=e.handleSubmit,a=e.handleChange,n=e.handleBlur,c=e.values,r=e.touched,l=e.isValid,d=e.errors,j=e.dirty;return Object(h.jsxs)(y.a,{className:"mx-5 my-4",noValidate:!0,onSubmit:t,children:[Object(h.jsx)(y.a.Group,{className:"mb-3",controlId:"formName",children:Object(h.jsxs)(N.a,{label:"Course Name",children:[Object(h.jsx)(y.a.Control,{type:"text",name:"name",value:c.name,onChange:a,onBlur:n,isInvalid:r.name&&d.name}),Object(h.jsxs)(y.a.Control.Feedback,{type:"invalid",children:[" ",d.name," "]})]})}),Object(h.jsx)(y.a.Group,{className:"mb-3",controlId:"formCode",children:Object(h.jsxs)(N.a,{label:"Course Code",children:[Object(h.jsx)(y.a.Control,{type:"text",name:"code",value:c.code,onChange:a,onBlur:n,isInvalid:r.code&&d.code}),Object(h.jsxs)(y.a.Control.Feedback,{type:"invalid",children:[" ",d.code," "]})]})}),Object(h.jsx)(y.a.Group,{className:"mb-3",controlId:"formCredits",children:Object(h.jsxs)(N.a,{label:"Course Credits",children:[Object(h.jsx)(y.a.Control,{type:"number",name:"credits",value:c.credits,onChange:a,onBlur:n,isInvalid:r.credits&&d.credits}),Object(h.jsxs)(y.a.Control.Feedback,{type:"invalid",children:[" ",d.credits," "]})]})}),Object(h.jsx)(y.a.Group,{className:"mb-3",controlId:"formInstructor",children:Object(h.jsxs)(N.a,{label:"Course Instructor",children:[Object(h.jsx)(y.a.Control,{type:"text",name:"instructor",value:c.instructor,onChange:a,onBlur:n,isInvalid:r.instructor&&d.instructor}),Object(h.jsxs)(y.a.Control.Feedback,{type:"invalid",children:[" ",d.instructor," "]})]})}),Object(h.jsx)(he,{handleAdd:function(){return s(!0)},classes:i,setClasses:o}),Object(h.jsx)(S.a,{variant:"primary",type:"submit",disabled:!(l&&j),children:"Add New Course"})]})}})]})})}),Object(h.jsxs)(te.a,{size:"lg",show:a,centered:!0,onHide:function(){return s(!1)},children:[Object(h.jsx)(te.a.Header,{closeButton:!0,children:Object(h.jsx)(te.a.Title,{children:"Add a Class"})}),Object(h.jsx)(te.a.Body,{children:Object(h.jsx)(me,{classes:i,setClasses:o,setShowModal:s})})]})]})}function xe(){return Object(h.jsx)(p.a,{className:"h-100",fluid:!0,children:Object(h.jsx)(v.a,{className:"h-100 align-items-center justify-content-center",children:Object(h.jsx)(g.a,{sm:"3",className:"text-center",children:Object(h.jsx)(C.a,{variant:"danger",children:"You do not have access to this page!"})})})})}var fe=["children"];function pe(e){var t=e.children,a=Object(oe.a)(e,fe),n=f();return n.userSet?n.user?1===n.user.role||2===n.user.role?Object(h.jsx)(i.b,Object(le.a)(Object(le.a)({},a),{},{render:function(){return t}})):Object(h.jsx)(xe,{}):Object(h.jsx)(i.b,Object(le.a)(Object(le.a)({},a),{},{render:function(e){var t=e.location;return Object(h.jsx)(i.a,{to:{pathname:"/login",state:{from:t}}})}})):Object(h.jsx)(ne,{})}var ve=a(325),ge=a(324),ye=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"],Ce=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Ne=b.a.create({baseURL:"http://localhost:5000/post",withCredentials:!0});function Se(e){var t=e.post,a=e.update,n=e.setUpdate,s=new Date(t.createdAt),c=f();return Object(h.jsxs)($.a,{className:"my-3",children:[Object(h.jsx)($.a.Header,{children:Object(h.jsxs)(v.a,{children:[Object(h.jsx)(g.a,{children:Object(h.jsx)("strong",{children:t.author})}),Object(h.jsx)(g.a,{children:Object(h.jsx)("div",{className:"text-end",children:function(){var e,t,a=new Date;return a.getYear()===s.getYear()?a.getMonth()===s.getMonth()?a.getDay()===s.getDay()?(e=s.getHours(),t=s.getMinutes(),e>12?0===t?e%12+":00 pm":t<10?e%12+":0"+t+" pm":e%12+":"+t+" pm":e+":"+t+" am"):Ce[s.getDay()]:ye[s.getMonth()]:s.getFullYear()}()})})]})}),Object(h.jsx)($.a.Body,{children:t.content}),1===c.user.role||2===c.user.role||c.user._id===t.authorId?Object(h.jsx)(ge.a,{children:Object(h.jsx)("div",{className:"text-end px-3 py-1",children:Object(h.jsx)(S.a,{onClick:function(){Ne.delete("/"+t.id).then((function(e){n(!a)})).catch((function(e){console.log(e)}))},variant:"outline-danger",children:Object(h.jsx)("i",{className:"bi bi-trash-fill"})})})}):Object(h.jsx)(h.Fragment,{})]})}var we=b.a.create({baseURL:"http://localhost:5000/post",withCredentials:!0});function ke(e){var t=e.setShowModal,a=e.update,n=e.setUpdate,s=f(),c=w.b().shape({content:w.d().required("Required!")});return Object(h.jsx)(k.a,{validationSchema:c,onSubmit:function(e){var c={content:e.content,author:s.user.username};we.post("/",c).then((function(e){t(!1),n(!a)}))},initialValues:{content:""},children:function(e){var t=e.handleSubmit,a=e.handleChange,n=e.handleBlur,s=e.values,c=e.touched,r=e.isValid,i=e.errors,l=e.dirty;return Object(h.jsxs)(y.a,{className:"mx-5 my-4",noValidate:!0,onSubmit:t,children:[Object(h.jsxs)(y.a.Group,{className:"mb-3",controlId:"formContent",children:[Object(h.jsx)(y.a.Control,{as:"textarea",rows:"10",name:"content",value:s.content,onChange:a,onBlur:n,isInvalid:c.content&&i.content}),Object(h.jsxs)(y.a.Control.Feedback,{type:"invalid",children:[" ",i.content," "]})]}),Object(h.jsx)(S.a,{variant:"primary",type:"submit",disabled:!(r&&l),children:"Create"})]})}})}var Ie=b.a.create({baseURL:"http://localhost:5000/post",withCredentials:!0});function Fe(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),a=t[0],s=t[1],c=Object(n.useState)(!1),r=Object(l.a)(c,2),i=r[0],o=r[1],d=Object(n.useState)(!1),j=Object(l.a)(d,2),u=j[0],b=j[1],m=Object(n.useState)(!1),O=Object(l.a)(m,2),x=O[0],f=O[1],y=Object(n.useState)([]),N=Object(l.a)(y,2),w=N[0],k=N[1],I=Object(n.useState)(1),F=Object(l.a)(I,2),B=F[0],_=F[1],q=Object(n.useState)(1),M=Object(l.a)(q,2),R=M[0],E=M[1];return Object(n.useEffect)((function(){Ie.get("/",{params:{page:R}}).then((function(e){s(e.data.results),o(!0),E(e.data.page),_(e.data.totalPages)})).catch((function(e){console.log(e),o(!0)}))}),[x,R]),Object(n.useEffect)((function(){for(var e=[],t=function(t){e.push(Object(h.jsx)(ve.a.Item,{active:t===R,onClick:function(){return E(t)},children:t},t))},a=1;a<=B;a++)t(a);k(e)}),[R,B]),i?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(p.a,{className:"my-4",children:Object(h.jsx)(v.a,{className:"justify-content-center",children:Object(h.jsxs)(g.a,{lg:6,children:[Object(h.jsxs)(v.a,{className:"justify-content-end",children:[Object(h.jsx)(g.a,{children:Object(h.jsx)("h3",{children:"Recent Posts"})}),Object(h.jsx)(g.a,{className:"text-end",children:Object(h.jsx)(S.a,{variant:"primary",onClick:function(){return b(!0)},children:"Create Post"})})]}),a.length?a.map((function(e){return Object(h.jsx)(Se,{post:e,update:x,setUpdate:f},e.id)})):Object(h.jsx)(C.a,{variant:"info",className:"text-center",children:"No posts here!"}),Object(h.jsx)(ve.a,{children:w})]})})}),Object(h.jsxs)(te.a,{size:"lg",show:u,centered:!0,onHide:function(){return b(!1)},children:[Object(h.jsx)(te.a.Header,{closeButton:!0,children:Object(h.jsx)(te.a.Title,{children:"Create Post"})}),Object(h.jsx)(te.a.Body,{children:Object(h.jsx)(ke,{setShowModal:b,update:x,setUpdate:f})})]})]}):Object(h.jsx)(ne,{})}function Be(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(V,{}),Object(h.jsxs)(i.d,{children:[Object(h.jsx)(i.b,{path:"/login",children:Object(h.jsx)(I,{})}),Object(h.jsx)(i.b,{path:"/signup",children:Object(h.jsx)(F,{})}),Object(h.jsx)(je,{path:"/courseplanner",children:Object(h.jsx)(L,{children:Object(h.jsx)(ie,{})})}),Object(h.jsx)(je,{path:"/posts",children:Object(h.jsx)(Fe,{})}),Object(h.jsx)(pe,{path:"/admin/addcourse",children:Object(h.jsx)(Oe,{})}),Object(h.jsx)(i.b,{path:"/",children:Object(h.jsx)(D,{})})]})]})}var _e=a(91);a(305),a(306);r.a.render(Object(h.jsx)(s.a.StrictMode,{children:Object(h.jsx)(_e.a,{children:Object(h.jsx)(x,{children:Object(h.jsx)(Be,{})})})}),document.getElementById("root"))}},[[307,1,2]]]);
//# sourceMappingURL=main.fb32be42.chunk.js.map